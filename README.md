# Классификация уровня разработчика по данным hh.ru

## 1. Установка

```bash
pip install -r requirements.txt
```

## 2. Использование

### 2.1. Шаг 1 - предобработка данных

```bash
python preprocess_cli.py hh.csv
```

В результате выполнения формируются два файла в директории с исходным CSV:

- `x_data.npy` - матрица признаков формы `(n_samples, 7)`
- `y_data.npy` - вектор целевых меток формы `(n_samples,)`, классы: `['junior', 'middle', 'senior']`

### 2.2. Шаг 2 - обучение и оценка модели

```bash
python classify_cli.py x_data.npy y_data.npy
```

## 3. Результаты

### 3.1. Визуализация результатов

В разделе представлены графические материалы, полученные при выполнении программных модулей.

#### Распределение классов

- Middle: 9 630 (87.2%)
- Junior: 854 (7.7%)
- Senior: 568 (5.1%)

#### Матрица ошибок

Пояснение: матрица ошибок показывает распределение верных и ошибочных предсказаний по классам. Диагональные элементы соответствуют корректной классификации; внедиагональные - ошибкам. По рисунку видно, что значимая часть объектов класса `middle` ошибочно относится к `junior` и `senior`, что согласуется с различиями значений recall между классами.

<img width="2400" height="1800" alt="confusion_matrix" src="https://github.com/user-attachments/assets/15fec20c-253a-483c-bcea-abf62fb8c57e" />

### 3.2. Данные и предобработка
- Всего резюме в исходном файле: 66 945
- Найдено IT-разработчиков: 11 052
- Удалено выбросов: 188
- Итоговый размер датасета после очистки: 10 864
- Число признаков: 7

### 3.3. Метрики модели
#### Таблица 1 - метрики по классам (test set)

Пояснение: в таблице приведены `precision`, `recall` и `F1-score` по каждому классу на тестовой выборке. Значение `support` соответствует числу объектов данного класса в тестовой части.

| Класс  | Precision | Recall | F1-score | Support |
|--------|----------:|-------:|---------:|--------:|
| junior | 0.20 | 0.77 | 0.32 | 252 |
| middle | 0.94 | 0.62 | 0.75 | 2842 |
| senior | 0.27 | 0.71 | 0.39 | 166 |

#### Таблица 2 - сводные показатели качества (test set)

Пояснение: `Accuracy` отражает долю верных ответов по всем классам. `Macro F1` усредняет качество по классам без учёта их размера и является более информативной метрикой при дисбалансе.

| Показатель | Значение |
|-----------:|:--------|
| Accuracy | 0.640 |
| Macro F1 | 0.489 |
| Размер тестовой выборки | 3 260 |

### 3.4. Анализ важности признаков

<img width="3000" height="1800" alt="feature_importance" src="https://github.com/user-attachments/assets/2acaa4a5-9abf-4b57-9058-4b8102de59ec" />

Пояснение: важность признаков вычисляется по итогам обучения случайного леса и отражает вклад признака в уменьшение неопределённости при разбиениях деревьев (в рамках используемой реализации).

1. salary: 0.6696
2. age: 0.2255
3. city: 0.0690
4. employment: 0.0354
5. education: 0.0004
6. has_car: 0.0000
7. experience_years: 0.0000


## 4. Выводы

1. Общее качество классификации.  
   Модель демонстрирует умеренное качество на тестовой выборке (Accuracy = 0.640). Значение Macro F1 = 0.489 указывает на заметную разницу качества между классами и чувствительность результата к дисбалансу.

2. Влияние дисбаланса классов.  
   Доля класса `middle` превышает 87%, что способствует смещению модели в сторону данного класса. При этом по классам `junior` и `senior` наблюдается повышенный `recall` при низком `precision`, что характерно для сценария, когда модель стремится «поймать» редкий класс ценой большого числа ложных срабатываний.

3. Роль признаков.  
   Наибольший вклад в предсказание вносит признак `salary` (около 0.67), далее - `age` (около 0.23). Признаки `experience_years` и `has_car` практически не участвуют в решении, что может быть связано с корреляцией, особенностями заполнения пропусков, либо снижением информативности после фильтрации и удаления выбросов.

4. Ограничения постановки задачи.  
   Целевая метка формируется автоматически (по названию позиции и диапазонам опыта), поэтому качество «истинной» разметки ограничено исходными правилами. Дополнительно точность могла бы быть повышена за счёт анализа текстовых полей резюме (стек, навыки, обязанности) методами NLP.
